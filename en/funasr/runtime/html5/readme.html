<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Speech Recognition Service Html5 Client Access Interface &mdash; FunASR  documentation</title><link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="CPU Benchmark (ONNX-python)" href="../../../benchmark/benchmark_onnx.html" />
    <link rel="prev" title="Service with websocket-cpp" href="../websocket/readme.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            FunASR
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/docker.html">Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Quick Start</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quick_start.html">Quick Start</a></li>
</ul>
<p class="caption"><span class="caption-text">Academic Egs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../academic_recipe/asr_recipe.html">Speech Recognition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../academic_recipe/punc_recipe.html">Punctuation Restoration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../academic_recipe/vad_recipe.html">Voice Activity Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../academic_recipe/sv_recipe.html">Speaker Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../academic_recipe/sd_recipe.html">Speaker Diarization</a></li>
</ul>
<p class="caption"><span class="caption-text">ModelScope Egs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../modelscope_pipeline/quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../egs_modelscope/asr/TEMPLATE/README.html">Speech Recognition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../egs_modelscope/vad/TEMPLATE/README.html">Voice Activity Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../egs_modelscope/punctuation/TEMPLATE/README.html">Punctuation Restoration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../egs_modelscope/tp/TEMPLATE/README.html">Timestamp Prediction (FA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modelscope_pipeline/sv_pipeline.html">Speaker Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modelscope_pipeline/sd_pipeline.html">Speaker Diarization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modelscope_pipeline/itn_pipeline.html">Inverse Text Normalization (ITN)</a></li>
</ul>
<p class="caption"><span class="caption-text">Model Zoo</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../model_zoo/modelscope_models.html">Pretrained Models on ModelScope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../model_zoo/huggingface_models.html">Pretrained Models on Huggingface</a></li>
</ul>
<p class="caption"><span class="caption-text">Runtime and Service</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../docs/SDK_tutorial.html">FunASR Offline File Transcription Service Convenient Deployment Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docs/SDK_tutorial_online.html">FunASR Realtime Transcribe Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/websocket/README.html">Service with websocket-python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../websocket/readme.html">Service with websocket-cpp</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Speech Recognition Service Html5 Client Access Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#starting-speech-recognition-service">Starting Speech Recognition Service</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#starting-python-version-service">Starting Python Version Service</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#install-dependencies">Install Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#start-asr-service">Start ASR Service</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wss-method">wss Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="#html5-service-optional">Html5 Service (Optional)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#starting-c-version-service">Starting C++ Version Service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#client-testing">Client Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#method-1">Method 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#method-2">Method 2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#acknowledge">Acknowledge</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Benchmark and Leaderboard</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../benchmark/benchmark_onnx.html">CPU Benchmark (ONNX-python)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../benchmark/benchmark_onnx_cpp.html">CPU Benchmark (ONNX-cpp)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../benchmark/benchmark_libtorch.html">CPU Benchmark (Libtorch)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../benchmark/benchmark_pipeline_cer.html">Leaderboard IO</a></li>
</ul>
<p class="caption"><span class="caption-text">Funasr Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/build_task.html">Build custom tasks</a></li>
</ul>
<p class="caption"><span class="caption-text">Papers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/papers.html">Papers</a></li>
</ul>
<p class="caption"><span class="caption-text">Application</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/application.html">Audio Cut</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/application.html#realtime-speech-recognition">Realtime Speech Recognition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/application.html#audio-chat">Audio Chat</a></li>
</ul>
<p class="caption"><span class="caption-text">FQA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/FQA.html">FQA</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">FunASR</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Speech Recognition Service Html5 Client Access Interface</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/funasr/runtime/html5/readme.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>(<a class="reference internal" href="readme_zh.html"><span class="doc">简体中文</span></a>|English)</p>
<div class="section" id="speech-recognition-service-html5-client-access-interface">
<h1>Speech Recognition Service Html5 Client Access Interface<a class="headerlink" href="#speech-recognition-service-html5-client-access-interface" title="Permalink to this headline"></a></h1>
<p>The server deployment uses the websocket protocol. The client can support html5 webpage access and microphone input or file input. There are two ways to access the service:</p>
<ul>
<li><p>Method 1:</p>
<p>Directly connect to the html client, manually download the client (<a class="reference external" href="https://github.com/alibaba-damo-academy/FunASR/tree/main/funasr/runtime/html5/static">click here</a>) to the local computer, and open the index.html webpage to enter the wss address and port number.</p>
</li>
<li><p>Method 2:</p>
<p>Html5 server, automatically download the client to the local computer, and support access by mobile phones and other devices.</p>
</li>
</ul>
<div class="section" id="starting-speech-recognition-service">
<h2>Starting Speech Recognition Service<a class="headerlink" href="#starting-speech-recognition-service" title="Permalink to this headline"></a></h2>
<p>Support the deployment of Python and C++ versions, where</p>
<ul>
<li><p>Python version</p>
<p>Directly deploy the Python pipeline, support streaming real-time speech recognition models, offline speech recognition models, streaming offline integrated error correction models, and output text with punctuation marks. Single server, supporting a single client.</p>
</li>
<li><p>C++ version</p>
<p>funasr-runtime-sdk, supports one-key deployment, version 0.1.0, supports offline file transcription. Single server, supporting requests from hundreds of clients.</p>
</li>
</ul>
<div class="section" id="starting-python-version-service">
<h3>Starting Python Version Service<a class="headerlink" href="#starting-python-version-service" title="Permalink to this headline"></a></h3>
<div class="section" id="install-dependencies">
<h4>Install Dependencies<a class="headerlink" href="#install-dependencies" title="Permalink to this headline"></a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip3 install -U modelscope funasr flask
<span class="c1"># Users in mainland China, if encountering network issues, can install with the following command:</span>
<span class="c1"># pip3 install -U modelscope funasr -i https://mirror.sjtu.edu.cn/pypi/web/simple</span>
git clone https://github.com/alibaba/FunASR.git <span class="o">&amp;&amp;</span> <span class="nb">cd</span> FunASR
</pre></div>
</div>
</div>
<div class="section" id="start-asr-service">
<h4>Start ASR Service<a class="headerlink" href="#start-asr-service" title="Permalink to this headline"></a></h4>
</div>
<div class="section" id="wss-method">
<h4>wss Method<a class="headerlink" href="#wss-method" title="Permalink to this headline"></a></h4>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> funasr/runtime/python/websocket
python funasr_wss_server.py --port <span class="m">10095</span>
</pre></div>
</div>
<p>For detailed parameter configuration and analysis, please click <a class="reference external" href="https://github.com/alibaba-damo-academy/FunASR/tree/main/funasr/runtime/python/websocket">here</a>.</p>
</div>
<div class="section" id="html5-service-optional">
<h4>Html5 Service (Optional)<a class="headerlink" href="#html5-service-optional" title="Permalink to this headline"></a></h4>
<p>If you need to use the client method mentioned above to access it, you can start the html5 service</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>h5Server.py <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--host HOST<span class="o">]</span> <span class="o">[</span>--port PORT<span class="o">]</span> <span class="o">[</span>--certfile CERTFILE<span class="o">]</span> <span class="o">[</span>--keyfile KEYFILE<span class="o">]</span>             
</pre></div>
</div>
<p>As shown in the example below, pay attention to the IP address. If accessing from another device (such as a mobile phone), you need to set the IP address to the real public IP address.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> funasr/runtime/html5
python h5Server.py --host <span class="m">0</span>.0.0.0 --port <span class="m">1337</span>
</pre></div>
</div>
<p>After starting, enter (<a class="reference external" href="https://127.0.0.1:1337/static/index.html">https://127.0.0.1:1337/static/index.html</a>) in the browser to access it.</p>
</div>
</div>
<div class="section" id="starting-c-version-service">
<h3>Starting C++ Version Service<a class="headerlink" href="#starting-c-version-service" title="Permalink to this headline"></a></h3>
<p>Since there are many dependencies for C++, it is recommended to deploy it using docker, which supports one-key start of the service.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl -O https://isv-data.oss-cn-hangzhou.aliyuncs.com/ics/MaaS/ASR/shell/funasr-runtime-deploy-offline-cpu-zh.sh<span class="p">;</span>
sudo bash funasr-runtime-deploy-offline-cpu-zh.sh install --workspace /root/funasr-runtime-resources
</pre></div>
</div>
<p>For detailed parameter configuration and analysis, please click <a class="reference external" href="https://github.com/alibaba-damo-academy/FunASR/blob/main/funasr/runtime/docs/SDK_tutorial_zh.md">here</a>.</p>
</div>
</div>
<div class="section" id="client-testing">
<h2>Client Testing<a class="headerlink" href="#client-testing" title="Permalink to this headline"></a></h2>
<div class="section" id="method-1">
<h3>Method 1<a class="headerlink" href="#method-1" title="Permalink to this headline"></a></h3>
<p>Directly connect to the html client, manually download the client (<a class="reference external" href="https://github.com/alibaba-damo-academy/FunASR/tree/main/funasr/runtime/html5/static">click here</a>) to the local computer, and open the index.html webpage, enter the wss address and port number to use.</p>
</div>
<div class="section" id="method-2">
<h3>Method 2<a class="headerlink" href="#method-2" title="Permalink to this headline"></a></h3>
<p>Html5 server, automatically download the client to the local computer, and support access by mobile phones and other devices. The IP address needs to be consistent with the html5 server. If it is a local computer, you can use 127.0.0.1.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>https://127.0.0.1:1337/static/index.html
</pre></div>
</div>
<p>Enter the wss address and port number to use.</p>
</div>
</div>
<div class="section" id="acknowledge">
<h2>Acknowledge<a class="headerlink" href="#acknowledge" title="Permalink to this headline"></a></h2>
<ol class="simple">
<li><p>This project is maintained by <a class="reference external" href="https://github.com/alibaba-damo-academy/FunASR">FunASR community</a>.</p></li>
<li><p>We acknowledge <a class="reference external" href="http://www.aihealthx.com/">AiHealthx</a> for contributing the html5 demo.</p></li>
</ol>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../websocket/readme.html" class="btn btn-neutral float-left" title="Service with websocket-cpp" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../benchmark/benchmark_onnx.html" class="btn btn-neutral float-right" title="CPU Benchmark (ONNX-python)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Speech Lab, Alibaba Group.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>